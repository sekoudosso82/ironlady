(this.webpackJsonpironlady=this.webpackJsonpironlady||[]).push([[0],{10:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},29:function(e,t,a){e.exports=a(41)},34:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/bp.7479a9f9.jpg"},41:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(18),c=a.n(s),i=a(9),l=a(7),p=(a(34),a(2)),u=a(3),m=a(4),h=a(6),d=a(5),f=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),fetch("https://ironladyback.herokuapp.com/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.errors?alert(t.errors):e.props.setUser(t)})),e.setState({username:"",password:""})},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t;return o.a.createElement("form",{className:"formLogin",onSubmit:this.handleSubmit},o.a.createElement("div",{class:"form-row loginDiv"},o.a.createElement("div",null,o.a.createElement("h1",{className:"salut"}," Hi ",this.state.username),o.a.createElement("input",(e={className:"form-control loginInput",placeholder:"username"},Object(p.a)(e,"className","formInput"),Object(p.a)(e,"name","username"),Object(p.a)(e,"value",this.state.username),Object(p.a)(e,"onChange",this.handleChange),Object(p.a)(e,"placeholder","username"),e)),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",(t={className:"form-control loginInput",placeholder:"password"},Object(p.a)(t,"className","formInput"),Object(p.a)(t,"name","password"),Object(p.a)(t,"value",this.state.password),Object(p.a)(t,"type","password"),Object(p.a)(t,"onChange",this.handleChange),Object(p.a)(t,"placeholder","password"),t))),o.a.createElement("br",null),o.a.createElement("div",{className:"loginSubmit"},o.a.createElement("button",{className:"formInput",type:"submit"},"Log In"))))}}]),a}(o.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",passwordConfirmation:"",shoppingCartId:null},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.state.password===e.state.passwordConfirmation?fetch("http://localhost:3000/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e.state.username,password:e.state.password})}).then((function(e){return e.json()})).then((function(t){if(t.errors)alert(t.errors);else{console.log("new signup data id",t.user.id),e.props.setUser(t);var a={user_id:t.user.id};fetch("https://ironladyback.herokuapp.com/api/v1/shopping_carts",{method:"Post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:t.user.id})}).then((function(e){return e.json()})).then((function(e){return console.log("shopping cart created",e)})),fetch("https://ironladyback.herokuapp.com/api/v1/watchlists",{method:"Post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){return console.log("watchlist cart created",e)}))}})):alert("Passwords don't match! check for case_sensitive Password should be atlease 3 characters"),e.setState({username:"",password:"",passwordConfirmation:""})},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{className:"formLogin",onSubmit:this.handleSubmit},o.a.createElement("div",{class:"form-row loginDiv"},o.a.createElement("div",null,o.a.createElement("h1",{className:"salut"}," Hi ",this.state.username),o.a.createElement("input",{className:"form-control sellItemDivInput",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control sellItemDivInput",placeholder:"password",name:"password",value:this.state.password,type:"password",onChange:this.handleChange}),o.a.createElement("input",{className:"form-control sellItemDivInput",placeholder:"passwordConfirmation",name:"passwordConfirmation",value:this.state.passwordConfirmation,type:"password",onChange:this.handleChange}),o.a.createElement("input",{className:"form-control sellItemDivInput",placeholder:"email",name:"email",value:this.state.email,type:"email",onChange:this.handleChange}),o.a.createElement("input",{className:"form-control sellItemDivInput",placeholder:"phone",name:"phone",value:this.state.phone,type:"phone",onChange:this.handleChange}),o.a.createElement("button",{className:"form-control sellItemDivInput",type:"submit"},"Sign Up"))))}}]),a}(o.a.Component),b=a(8),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={updateIsClicked:!1,username:e.props.username,password:e.props.password,email:e.props.email,phone:e.props.phone,profileImage:e.props.profileImage},e.toggleUpdateIsClicked=function(){e.setState({updateIsClicked:!e.state.updateIsClicked})},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleUpdateProfile=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password,email:e.state.email,phone:e.state.phone,profileImage:e.state.profileImage},n=e.props.currentUser.id;console.log(" profile id ",e.props.currentUser.id),fetch("https://ironladyback.herokuapp.com/api/v1/users/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log("updated profile id",t),e.props.updateProfile(t)})),e.setState({updateIsClicked:!1,username:e.props.username,password:e.props.password,email:e.props.email,phone:e.props.phone,profileImage:e.props.profileImage})},e.handleDelete=function(){var t=e.props.currentUser.id;console.log(" delete profile id ",e.props.currentUser.id),fetch("https://ironladyback.herokuapp.com/api/v1/watchlists/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(a){console.log("delete watchlist id",a.id),fetch("https://ironladyback.herokuapp.com/api/v1/shopping_carts/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(a){console.log("delete shoppingCart id",a.id),fetch("https://ironladyback.herokuapp.com/api/v1/users/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log("delete user id",t.id),e.props.deleteAccount(t)}))}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log(" ********** profile props history ********",this.props),o.a.createElement("div",{className:"search-bar"},o.a.createElement("img",{className:"rounded mx-auto d-block profileImage",src:this.props.profileImage}),o.a.createElement("p",null," username: ",this.props.username," "),o.a.createElement("p",null," email: ",this.props.email," "),o.a.createElement("p",null," phone: ",this.props.phone," "),o.a.createElement(i.b,{to:"/signup"},o.a.createElement("button",{class:"btn btn-danger",onClick:this.handleDelete},"Delete Account")),o.a.createElement("button",{class:"btn btn-primary",onClick:this.toggleUpdateIsClicked},"Update Account"),this.state.updateIsClicked?o.a.createElement("form",{onSubmit:this.handleUpdateProfile},o.a.createElement("br",null),o.a.createElement("label",null,"username"),o.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"password"),o.a.createElement("input",{type:"text",name:"password",value:this.state.password,placeholder:"ENTER NEW PASSWORD",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"email"),o.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"phone"),o.a.createElement("input",{type:"text",name:"phone",value:this.state.phone,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null,"profileImage"),o.a.createElement("input",{type:"text",name:"profileImage",value:this.state.profileImage,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{type:"Submit",value:"Submit",class:"btn btn-success"},"Update Profile")):null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))}}]),a}(r.Component),v=Object(l.f)(Object(b.b)(null,(function(e){return{updateProfile:function(t){return e({type:"UPDATE_PROFILE",payload:t})},deleteAccount:function(t){return e({type:"DELETE_ACCOUNT",payload:t})}}}))(E)),y=(a(10),a(13)),C=a(1),O=(n={shoppedItems:[],shoppingcartId:null,shoppingCartItem:[],searchTerm:"",sortChoice:"",items:[],users:[],shoppingCartItems:[],countShoppingCartitems:null,watchlistItems:[],updateIsClicked:!1,deleteIsClicked:!1,username:"",password:"",email:"",phone:"",profileImage:"",title:"",price:"",location:"",condition:"",category:"",offer:"",imgUrl:"",targetItem:{},editItem:!1,makeOffer:!1},Object(p.a)(n,"title",""),Object(p.a)(n,"price",""),Object(p.a)(n,"location",""),Object(p.a)(n,"condition",""),Object(p.a)(n,"category",""),Object(p.a)(n,"offer",!1),Object(p.a)(n,"imgUrl",""),Object(p.a)(n,"offers",[]),n),I=function(){return function(e){fetch("https://ironladyback.herokuapp.com/api/v1/offers").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_OFFERS",payload:{offers:t}})}))}},j=function(){return function(e){fetch("https://ironladyback.herokuapp.com/api/v1/watchlist_items").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_WATCHLIST",payload:{watchlistItems:t}})}))}};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer shopItem number",e.shopItemNum),t.type){case"FETCH_OFFERS":return Object(C.a)(Object(C.a)({},e),{},{offers:t.payload.offers});case"DELETE_OFFER":return Object(C.a)(Object(C.a)({},e),{},{offers:Object(y.a)(e.offers.filter((function(e){return e.id!==t.payload.id})))});case"ADD_OFFER":return Object(C.a)(Object(C.a)({},e),{},{offers:[].concat(Object(y.a)(e.offers),[t.payload])});case"FETCH_USERS":return Object(C.a)(Object(C.a)({},e),{},{users:t.payload.users});case"UPDATE_PROFILE":return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"DELETE_ACCOUNT":return Object(C.a)(Object(C.a)({},e),{},{users:Object(y.a)(e.users.filter((function(e){return e.id!==t.payload.id})))});case"FETCH_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watchlistItems:t.payload.watchlistItems});case"ADD_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watchlistItems:[].concat(Object(y.a)(e.watchlistItems),[t.payload])});case"REMOVE_FROM_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watchlistItems:Object(y.a)(e.watchlistItems.filter((function(e){return e.id!==t.payload.id})))});case"FETCH_SHOPITEM":return console.log("fetch shopItem ",t.payload),Object(C.a)(Object(C.a)({},e),{},{shoppingCartItems:t.payload.shoppingCartItems});case"UPDATE_SHOPPINGCART":return console.log("update shoppingCart payload",t.payload),Object(C.a)(Object(C.a)({},e),{},{shoppingCartItems:[].concat(Object(y.a)(e.shoppingCartItems),[t.payload])});case"REMOVE_FROM_SHOPPINGCART":var a=t.payload.id;return console.log("delete from shoppingCart payload.id",t.payload.id),fetch("https://ironladyback.herokuapp.com/api/v1/shopping_cart_items/".concat(a),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("data delete from shoppingCart ",e)})),Object(C.a)(Object(C.a)({},e),{},{shoppingCartItems:Object(y.a)(e.shoppingCartItems.filter((function(e){return e.id!==t.payload.id})))});case"CHECKOUT":return console.log("in reducer "),Object(C.a)(Object(C.a)({},e),{},{shoppingCartItems:[]});case"FETCH_ITEMS":return Object(C.a)(Object(C.a)({},e),{},{items:t.payload.items});case"UPDATE_ITEM_PRIE":return Object(C.a)(Object(C.a)({},e),{},{items:e.items.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"ADD_ITEM":return console.log("add new items to shoppingCart",t.payload.items),Object(C.a)(Object(C.a)({},e),{},{items:t.payload.items});case"UPDATE_ITEM":return Object(C.a)(Object(C.a)({},e),{},{items:e.items.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"SELL_NEW_ITEM":return Object(C.a)(Object(C.a)({},e),{},{items:[].concat(Object(y.a)(e.items),[t.payload])});case"DELETE_ITEM":return Object(C.a)(Object(C.a)({},e),{},{items:Object(y.a)(e.items.filter((function(e){return e.id!==t.payload.id})))});default:return e}},N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderProfile=function(){return e.props.users.filter((function(t){return t.id===e.props.currentUser.id})).map((function(t){return o.a.createElement(v,Object.assign({key:t.id},t,{currentUser:e.props.currentUser}))}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},this.renderProfile())}}]),a}(r.Component);var S=Object(b.b)((function(e){return{users:e.users}}),(function(e){return{fetchUsers:function(){return e((function(e){fetch("https://ironladyback.herokuapp.com/api/v1/users").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_USERS",payload:{users:t}})}))}))}}}))(N),U=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return console.log("itemCart this props imgURL",this.props.imgUrl),o.a.createElement(i.b,{to:"/items/".concat(this.props.id)},o.a.createElement("div",{className:"userCardDiv"},o.a.createElement("img",{className:" img-fluid",src:this.props.imgUrl}),o.a.createElement("p",null,"title: ",this.props.title),o.a.createElement("p",null,"price: ",this.props.price," FRS CFA"),o.a.createElement("p",null,"Location : ",this.props.location),o.a.createElement("p",null,"Condition: ",this.props.condition," ")))}}]),a}(r.Component),T=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={targetItem:{},editItem:!1,makeOffer:!1,title:"",price:"",location:"",condition:"",category:"",offer:!1,imgUrl:""},e.toggleEditItem=function(){e.setState({editItem:!e.state.editItem})},e.toggleMakeOffer=function(){e.setState({makeOffer:!e.state.makeOffer})},e.handleAddToCart=function(){console.log("this.props.match.params",e.props.match.params);var t=e.props.match.params.id,a={shopping_cart_id:e.props.userId,item_id:parseInt(t)};console.log("shopping_cart_id",e.props.userId),console.log("item_id",parseInt(t)),console.log("** shopping cart post",a),fetch("https://ironladyback.herokuapp.com/api/v1/shopping_cart_items",{method:"Post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){t.errors&&alert(t.errors),console.log("GOT FROM BACKEND AFTER POST",t),e.props.updateShopItem(t)}))},e.handleAddToWatchlist=function(){var t=e.props.match.params.id,a={watchlist_id:e.props.userId,item_id:parseInt(t)};console.log("watchlist_id",e.props.userId),console.log("item_id",parseInt(t)),console.log("** watchlist post",a),fetch("https://ironladyback.herokuapp.com/api/v1/watchlist_items",{method:"Post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){t.errors&&alert(t.errors),e.props.addWatchlist(t)}))},e.handleMakeOffer=function(t){t.preventDefault();var a=e.props.match.params.id,n={user_id:e.props.userId,item_id:parseInt(a),amount:e.state.price};console.log("offer  data  ",n),fetch("https://ironladyback.herokuapp.com/api/v1/offers",{method:"Post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log("offer posted data ",t),t.errors&&alert(t.errors),e.props.addOffer(t)})),e.setState({targetItem:{},editItem:!1,makeOffer:!1,title:"",price:"",location:"",condition:"",category:"",offer:!1,imgUrl:""}),e.props.history.push("/items")},e.handleDelete=function(){var t=e.props.match.params.id;fetch("https://ironladyback.herokuapp.com/api/v1/items/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log("delete data id",t.id),e.props.deleteItem(t)})),e.props.history.push("/items")},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleEdit=function(t){t.preventDefault();var a={user_id:e.props.userId,title:e.state.title,price:e.state.price,location:e.state.location,condition:e.state.condition,category:e.state.category,offer:e.state.offer,imgUrl:e.state.imgUrl},n=e.props.match.params.id;fetch("https://ironladyback.herokuapp.com/api/v1/items/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.props.updateItem(t)})),e.setState({targetItem:{}}),e.props.history.push("/items")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("https://ironladyback.herokuapp.com/api/v1/items/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({targetItem:t,title:t.title,price:t.price,location:t.location,condition:t.condition,category:t.category,imgUrl:t.imgUrl})}))}},{key:"render",value:function(){var e=this,t=this.props.match.params.id;return console.log("*** showSingleItem this.props.match.params",t),console.log("*** showSingleItem this.props.id ",this.props.id),console.log("*** this state targetItem user id",this.state.targetItem.user_id),o.a.createElement("div",{className:"singleItemMainDiv"},o.a.createElement("div",{onClick:function(){return e.props.history.goBack()},className:"back-button"},"\u2b05\ufe0f Go Back \u2b05\ufe0f"),o.a.createElement("img",{className:"img-fluid",src:this.state.targetItem.imgUrl}),o.a.createElement("p",null,this.state.targetItem.title),o.a.createElement("p",null,this.state.targetItem.price," Frs CFA"),o.a.createElement("p",null,"location: ",this.state.targetItem.location),o.a.createElement("p",null,"condition: ",this.state.targetItem.condition," "),this.props.userId===this.state.targetItem.user_id?o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-danger singleButtonSized",onClick:this.handleDelete},"Delete"),o.a.createElement("button",{className:"btn btn-warning singleButtonSized",onClick:this.toggleEditItem},"Edit"),this.state.editItem?o.a.createElement("form",{className:"editItemForm ",onSubmit:this.handleEdit},o.a.createElement("div",{className:"form-row editItemFormDiv"},o.a.createElement("input",{className:"form-control ",placeholder:"title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"Add  price",type:"text",name:"price",value:this.state.price,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"Add  location",type:"text",name:"location",value:this.state.location,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"Add  condition",type:"text",name:"condition",value:this.state.condition,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"Add category",type:"text",name:"category",value:this.state.category,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"accept offer yes/no",type:"text",name:"offer",value:this.state.offer,onChange:this.handleChange}),o.a.createElement("input",{className:"form-control ",placeholder:"Add Image Url",type:"text",name:"imgUrl",value:this.state.imgUrl,onChange:this.handleChange}),o.a.createElement("button",{className:"btn btn-success singleButtonSized",type:"Submit",value:"Submit"},"Update item"))):null):o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary singleButtonSized",onClick:this.handleAddToCart},"Add to Cart"),o.a.createElement("button",{className:"btn btn-success singleButtonSized",onClick:this.handleAddToWatchlist},"Add to Watchlist"),o.a.createElement("button",{className:"btn btn-secondary singleButtonSized",onClick:this.toggleMakeOffer},"Make Offer"),this.state.makeOffer?o.a.createElement("form",{className:"formLogin",onSubmit:this.handleMakeOffer},o.a.createElement("div",{className:"form-row offerFormInput"},o.a.createElement("div",null,o.a.createElement("input",{className:"form-control ",placeholder:"offer price",type:"text",name:"price",value:this.state.price,onChange:this.handleChange}),o.a.createElement("button",{className:"btn btn-success singleButtonSized",type:"Submit",value:"Submit"},"Send Offer")))):null))}}]),a}(r.Component),_=Object(l.f)(Object(b.b)(null,(function(e){return{updateShopItem:function(t){return e({type:"UPDATE_SHOPPINGCART",payload:t})},deleteItem:function(t){return e({type:"DELETE_ITEM",payload:t})},updateItem:function(t){return e({type:"UPDATE_ITEM",payload:t})},addWatchlist:function(t){return e({type:"ADD_WATCHLIST",payload:t})},addOffer:function(t){return e({type:"ADD_OFFER",payload:t})}}}))(T)),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",price:"",location:"",condition:"",category:"",offer:"",imgUrl:""},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={user_id:e.props.userId,title:e.state.title,price:e.state.price,location:e.state.location,condition:e.state.condition,category:e.state.category,offer:e.state.offer,imgUrl:e.state.imgUrl};fetch("https://ironladyback.herokuapp.com/api/v1/items",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log("new selling item ",t),t.errors?alert(t.errors):alert("new selling item add Successfully"),e.props.sellNewItem(t)})),e.setState({title:"",price:"",location:"",condition:"",category:"",offer:!1,imgUrl:""}),e.props.history.push("/items")},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log("****sell  item currentUser  ***",this.props.userId),o.a.createElement("form",{className:"sellItemDiv",onSubmit:this.handleSubmit},o.a.createElement("div",{class:"form-row"},o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add title",name:"title",value:this.state.title,onChange:this.handleChange})),o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add  price",name:"price",value:this.state.price,onChange:this.handleChange}))),o.a.createElement("div",{class:"form-row"},o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add  location",name:"location",value:this.state.location,onChange:this.handleChange})),o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add  condition",name:"condition",value:this.state.condition,onChange:this.handleChange}))),o.a.createElement("div",{class:"form-row"},o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add category",name:"category",value:this.state.category,onChange:this.handleChange})),o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"accept offer yes/no",name:"offer",value:this.state.offer,onChange:this.handleChange}))),o.a.createElement("div",{class:"form-row"},o.a.createElement("div",{class:"col"},o.a.createElement("input",{className:"form-control sellItemDivInput",type:"text",placeholder:"Add Image Url",name:"imgUrl",value:this.state.imgUrl,onChange:this.handleChange})),o.a.createElement("div",{class:"col"})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{type:"Submit",value:"Submit",class:"btn btn-primary"},"Submit item"))}}]),a}(r.Component),A=Object(l.f)(Object(b.b)(null,(function(e){return{sellNewItem:function(t){return e({type:"SELL_NEW_ITEM",payload:t})}}}))(w)),D=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).removeFromWatchlist=function(){fetch("https://ironladyback.herokuapp.com/api/v1/watchlist_items/".concat(e.props.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){e.props.removeItemFromWatchlist(t)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log("delete from watchlist props id",this.props.id),o.a.createElement("div",{className:"search-bar"},o.a.createElement("button",{class:"btn btn-danger",onClick:this.removeFromWatchlist},"revome"),o.a.createElement("img",{className:"img-fluid",src:this.props.item.imgUrl}),o.a.createElement("p",null," ",this.props.title," "),o.a.createElement("p",null," $",this.props.item.price," "),o.a.createElement("p",null," ",this.props.item.location," "),o.a.createElement("p",null," ",this.props.item.condition," "))}}]),a}(r.Component),P=Object(l.f)(Object(b.b)(null,(function(e){return{removeItemFromWatchlist:function(t){return e({type:"REMOVE_FROM_WATCHLIST",payload:t})}}}))(D)),F=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderWatchlistItems=function(){return e.props.watchlistItems.filter((function(t){return t.watchlist_id===e.props.currentUser.id})).map((function(e){return o.a.createElement(P,Object.assign({key:e.id},e))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},this.renderWatchlistItems())}}]),a}(r.Component);var L=Object(b.b)((function(e){return{watchlistItems:e.watchlistItems}}),(function(e){return{fetchWatchlist:function(){return e(j())}}}))(F),x=(a(17),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDelete=function(){var t=e.props.offer.id;fetch("https://ironladyback.herokuapp.com/api/v1/offers/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log("delete data id",t.id),e.props.deleteOffer(t)}))},e.handleAcceptOffer=function(){var t=e.props.offer.item.id,a=e.props.offer.id;fetch("https://ironladyback.herokuapp.com/api/v1/items/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({price:e.props.offer.amount})}).then((function(e){return e.json()})).then((function(t){console.log("offer posted data ",t),t.errors?alert(t.errors):(alert("Offer Successfully accepted"),e.props.updateItemPrice(t),fetch("https://ironladyback.herokuapp.com/api/v1/offers/".concat(a),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log("delete data id",t.id),e.props.deleteOffer(t)})))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"summarySoldDiv"},o.a.createElement("img",{className:"img-thumbnail",src:this.props.offer.item.imgUrl}),o.a.createElement("p",null,this.props.offer.user.username),o.a.createElement("p",null,"offer price: $",this.props.offer.amount),o.a.createElement("p",null,"original price: $",this.props.offer.item.price),o.a.createElement("button",{onClick:this.handleAcceptOffer,className:"btn btn-success singleButtonSized"},"Accept"),o.a.createElement("button",{onClick:this.handleDelete,className:"btn btn-danger singleButtonSized"},"Decline"),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),a}(r.Component)),M=Object(b.b)(null,(function(e){return{deleteOffer:function(t){return e({type:"DELETE_OFFER",payload:t})},updateItemPrice:function(t){return e({type:"UPDATE_ITEM_PRIE",payload:t})}}}))(x),H=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderSoldItems=function(){return e.props.items.filter((function(t){return t.user_id===e.props.currentUser.id})).map((function(e){return o.a.createElement("div",{className:"summarySoldDiv"},o.a.createElement("img",{className:"img-thumbnail",src:e.imgUrl}),o.a.createElement("p",null,e.title),o.a.createElement("p",null,"$",e.price),o.a.createElement("p",null,e.condition))}))},e.renderOffers=function(){return e.props.offers.filter((function(t){return t.item.user_id===e.props.currentUser.id})).map((function(e){return o.a.createElement(M,{key:e.id,offer:e})}))},e.DeleteOffer=function(t){var a=e.props.offers.filter((function(e){return e.id!==t.id}));e.setState({offers:a})},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log("id of declined offer ******",this.props.declinedOffer),console.log("summary all items ******",this.props.items),o.a.createElement("div",{className:"App "},o.a.createElement("div",{className:"summaryDiv"},"Selling Items",this.renderSoldItems()),o.a.createElement("div",{className:"summaryDivOffers"},"Offers",this.renderOffers()))}}]),a}(r.Component);var R=Object(b.b)((function(e){return{offers:e.offers,items:e.items}}),(function(e){return{fetchOffers:function(){return e(I())}}}))(H);var W=function(){return o.a.createElement("div",{className:"App"},"AllSellings component")};var B=function(){return o.a.createElement("div",{className:"App"},"AllPurchasedItems component")},J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return console.log("delete from shoppingCart props id",this.props.id),o.a.createElement("div",{className:"search-bar"},o.a.createElement("img",{className:"img-fluid",src:this.props.item.imgUrl}),o.a.createElement("p",null," ",this.props.title," "),o.a.createElement("p",null," $",this.props.item.price," "),o.a.createElement("p",null," ",this.props.item.location," "),o.a.createElement("p",null," ",this.props.item.condition," "),o.a.createElement("button",{class:"btn btn-danger",onClick:function(){return e.props.removeFromShoppingCart(e.props.id)}},"revome"),o.a.createElement("br",null),o.a.createElement("br",null))}}]),a}(r.Component),z=Object(l.f)(Object(b.b)(null,(function(e){return{removeFromShoppingCart:function(t){return e({type:"REMOVE_FROM_SHOPPINGCART",payload:{id:t}})}}}))(J)),G=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderShoppingCartItems=function(){return console.log("shoppingCart props********. shoppingCartItems in render",e.props.shoppingCartItems),e.props.shoppingCartItems.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).map((function(e){return o.a.createElement(z,Object.assign({key:e.id},e))}))},e.items=function(){return e.props.shoppingCartItems.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).length},e.subTotal=function(){return console.log("_________shoppingCartItem  props--------------- ",e.props.shoppingCartItems),e.props.shoppingCartItems.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).reduce((function(e,t){return e+t.item.price}),0)},e.estimatedtaxxxx=function(){var t=e.props.shoppingCartItems;return Math.max(.07*t.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).reduce((function(e,t){return e+t.item.price}),0)).toFixed(2)},e.totalToPay=function(){var t=e.props.shoppingCartItems;return t.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).reduce((function(e,t){return e+t.item.price}),0)+.07*t.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})).reduce((function(e,t){return e+t.item.price}),0)},e.handleCheckout=function(){console.log("procede checkout");for(var t=e.props.shoppingCartItems.filter((function(t){return t.shopping_cart_id===e.props.currentUser.id})),a=0;a<t.length;a++)fetch("https://ironladyback.herokuapp.com/api/v1/shopping_cart_items/".concat(t[a].id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log(e)}));e.props.checkout()},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log("shoppingCart props********. shoppingCartItems",this.props.shoppingCartItems),o.a.createElement("div",{className:"App "},o.a.createElement("h1",null,"Items in shoppingCart"),o.a.createElement("div",{className:"shopppingCardCardDiv"},this.renderShoppingCartItems()),o.a.createElement("div",{className:"shopppingCardCardDiv1"},o.a.createElement("div",{className:"card text-white bg-primary mb-3 sticky-top"},o.a.createElement("div",{className:"card-header bg-transparent border-success"},"Go to checkout"),o.a.createElement("div",{className:"card-body text-success checkoutDivBody  "},o.a.createElement("p",{className:"checkoutDivBodyP"},"Items           : ",this.items()),o.a.createElement("p",{className:"checkoutDivBodyP"},"Subtotal         : $",this.subTotal()),o.a.createElement("p",{className:"checkoutDivBodyP"},"Shipping address: ",this.props.currentUser.email),o.a.createElement("p",{className:"checkoutDivBodyP"},"Estimated tax   :  $",this.estimatedtaxxxx())),o.a.createElement("div",{className:"card-footer bg-transparent border-success"},"Total : ",this.totalToPay())),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{type:"button",class:"btn btn-info",onClick:this.handleCheckout},"Checkout")))}}]),a}(r.Component);var $=Object(b.b)((function(e){return{shoppingCartItems:e.shoppingCartItems}}),(function(e){return{checkout:function(){return e({type:"CHECKOUT"})}}}))(G);var V=function(e){return o.a.createElement("div",{className:"filter-bar",onClick:e.toggleCategoryActive},o.a.createElement("label",null,o.a.createElement("select",{value:e.sortChoice,onChange:e.handleChange,name:"sortChoice"},o.a.createElement("option",{value:""},"Select"),o.a.createElement("option",{value:"lowest"},"lowest"),o.a.createElement("option",{value:"highest"},"highest"))),o.a.createElement("label",null,o.a.createElement("input",{type:"text",name:"searchTerm",onChange:e.handleChange,value:e.searchTerm,placeholder:"\ud83d\udd0d Search Item"})))};var K=function(e){return o.a.createElement("div",{className:"user-controls"},o.a.createElement("button",{onClick:e.logout},e.currentUser?"Hi "+e.currentUser.username+"--\x3eLOG OUT":o.a.createElement("div",null,o.a.createElement(i.b,{to:"/login"},o.a.createElement("button",{className:"login"},"LOG IN")),o.a.createElement(i.b,{to:"/signup"},o.a.createElement("button",{className:"signup"},"SIGN UP")))))},q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderItems=function(){console.log("sort choice",e.props.sortChoice),console.log("search term",e.props.searchTerm);var t=e.props.items;return"highest"===e.props.sortChoice&&(t=t.sort((function(e,t){return e.price<t.price?1:-1}))),"lowest"===e.props.sortChoice&&(t=t.sort((function(e,t){return e.price>t.price?1:-1}))),t.filter((function(t){return t.title.toLowerCase().includes(e.props.searchTerm.toLowerCase())})).map((function(t){return o.a.createElement(U,Object.assign({key:t.id},t,{DeleteItem:e.props.DeleteItem}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App topDiv"},this.renderItems())}}]),a}(r.Component);var Q=function(){return o.a.createElement("div",{className:"App"},"Currency  Currency  Currency  Currency")};var X=Object(b.b)((function(e){return{shoppingCartItems:e.shoppingCartItems,watchlistItems:e.watchlistItems,offers:e.offers}}))((function(e){return console.log("nav bar prop shoppingCartItems length",e.shoppingCartItems.length),console.log("nav bar prop current user",e.currentUser),o.a.createElement("div",{className:" navbar fixed-top navbar-dark bg-primary"},o.a.createElement("div",{className:"navDiv"},o.a.createElement(i.b,{to:"/items"},o.a.createElement("div",{className:"navCLass "},"Home")),null!==e.currentUser&&"Nadi"===e.currentUser.username?o.a.createElement(i.b,{to:"/items/sell"},o.a.createElement("div",{className:"navCLass"},"Sell")):null,o.a.createElement("div",{className:"navCLassFilter "},o.a.createElement(V,{handleChange:e.handleChange,searchTerm:e.searchTerm,sortChoice:e.sortChoice})),null!==e.currentUser&&"Nadi"===e.currentUser.username?null:o.a.createElement("div",null,o.a.createElement(i.b,{to:"/watchlist"},o.a.createElement("div",{className:"navCLass"},e.currentUser&&e.watchlistItems.length>0?o.a.createElement("span",{className:"shopItemNum"},e.watchlistItems.filter((function(t){return t.watchlist_id===e.currentUser.id})).length):null,"watchlist")),o.a.createElement(i.b,{to:"/shoppingcart"},o.a.createElement("div",{className:"navCLass"},e.currentUser&&e.shoppingCartItems.length>0?o.a.createElement("span",{className:"shopItemNum"},e.shoppingCartItems.filter((function(t){return t.shopping_cart_id===e.currentUser.id})).length):null,"Shop \ud83d\uded2"))),o.a.createElement(i.b,{to:"/items/summary"},o.a.createElement("div",{className:"navCLass"},e.currentUser&&e.offers.filter((function(t){return t.item.user_id===e.currentUser.id})).length>0?o.a.createElement("div",null,o.a.createElement("span",{className:"shopItemNum"},e.offers.filter((function(t){return t.item.user_id===e.currentUser.id})).length," "),"Offers"):o.a.createElement("span",null," history "))),o.a.createElement(i.b,{to:"/profile"},o.a.createElement("div",{className:"navCLass"},"Profile")),o.a.createElement("div",{className:"navBarLogin"},o.a.createElement(K,{logout:e.logout,currentUser:e.currentUser})," ")))})),Y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchItems()}},{key:"render",value:function(){var e=this;return console.log("items container state: ",this.state),console.log("****item Container currentUser.id  ***",this.props.currentUser.id),console.log("****item Container props.id  ***",this.props.id),o.a.createElement("div",{className:"App"},o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/items/summary",render:function(t){return o.a.createElement(R,Object.assign({},t,{currentUser:e.props.currentUser}))}}),o.a.createElement(l.a,{path:"/items/sell",render:function(t){return o.a.createElement(A,Object.assign({},t,{addItem:e.addItem,userId:e.props.currentUser.id}))}}),o.a.createElement(l.a,{path:"/items/:id",render:function(t){return o.a.createElement(_,Object.assign({},t,{userId:e.props.currentUser.id}))}}),o.a.createElement(l.a,{path:"/items",render:function(t){return o.a.createElement(q,Object.assign({},t,{currentUser:e.props.currentUser,items:e.props.items,searchTerm:e.props.searchTerm,sortChoice:e.props.sortChoice}))}})))}}]),a}(r.Component);var Z=Object(b.b)((function(e){return{items:e.items}}),(function(e){return{fetchItems:function(){return e((function(e){fetch("https://ironladyback.herokuapp.com/api/v1/items").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_ITEMS",payload:{items:t}})}))}))},addItem:function(){return e({type:"ADD_ITEM"})}}}))(Y),ee=(a(40),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentUser:null,searchTerm:"",sortChoice:""},e.setUser=function(t){console.log("response in app component",t),e.setState({currentUser:t.user},(function(){localStorage.token=t.token,e.props.history.push("/items")}))},e.logout=function(){e.setState({currentUser:null},(function(){localStorage.removeItem("token")}))},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.token;t&&fetch("https://ironladyback.herokuapp.com/api/v1/auto_login",{headers:{Authorization:t}}).then((function(e){return e.json()})).then((function(t){t.errors?alert(t.errors):e.setState({currentUser:t})})),this.props.fetchShopItems(),this.props.fetchWatchlist(),this.props.fetchOffers()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,{fixed:"top",currentUser:this.state.currentUser,logout:this.logout,searchTerm:this.state.searchTerm,sortChoice:this.state.sortChoice,handleChange:this.handleChange}),this.state.currentUser?o.a.createElement("div",null,o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/items",render:function(t){return o.a.createElement(Z,Object.assign({},t,{currentUser:e.state.currentUser,searchTerm:e.state.searchTerm,updateShopItem:e.updateShopItem,sortChoice:e.state.sortChoice}))}}),o.a.createElement(l.a,{path:"/watchlist",render:function(){return o.a.createElement(L,{currentUser:e.state.currentUser})}}),o.a.createElement(l.a,{path:"/shoppingcart",render:function(){return o.a.createElement($,{currentUser:e.state.currentUser})}}),o.a.createElement(l.a,{path:"/profile",render:function(t){return o.a.createElement(S,Object.assign({},t,{currentUser:e.state.currentUser}))}}),o.a.createElement(l.a,{path:"/allsellings",component:W}),o.a.createElement(l.a,{path:"/allparchaseditems ",component:B}),o.a.createElement(l.a,{path:"/currency",component:Q}))):o.a.createElement("div",null,o.a.createElement("h1",{className:"warning"}," Please Login or SignUp  "),o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/signup",render:function(){return o.a.createElement(g,{setUser:e.setUser})}}),o.a.createElement(l.a,{path:"/login",render:function(t){return o.a.createElement(f,Object.assign({},t,{setUser:e.setUser}))}}))))}}]),a}(r.Component));var te=Object(b.b)((function(e){return{shoppingCartItems:e.shoppingCartItems,shoppedItem:e.shoppedItem,shoppingcartId:e.shoppingcartId}}),(function(e){return{fetchShopItems:function(){return e((function(e){fetch("https://ironladyback.herokuapp.com/api/v1/shopping_cart_items").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_SHOPITEM",payload:{shoppingCartItems:t}})}))}))},fetchWatchlist:function(){return e(j())},fetchOffers:function(){return e(I())}}}))(ee),ae=a(16),ne=a(28),re=Object(ae.c)(k,Object(ae.a)(ne.a));c.a.render(o.a.createElement(b.a,{store:re},o.a.createElement(i.a,null,o.a.createElement(l.a,{path:"/",component:te}))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.b3e75001.chunk.js.map